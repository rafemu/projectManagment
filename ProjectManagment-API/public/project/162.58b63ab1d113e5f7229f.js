(self.webpackChunkmaterialpro=self.webpackChunkmaterialpro||[]).push([[162],{6162:(t,e,a)=>{"use strict";a.r(e),a.d(e,{EmployeesModule:()=>Jt});var o=a(1116),i=a(4258),n=a(5609),l=a(9241),r=a(7340),c=a(1041),s=a(2935),m=a(9609),u=a.n(m),d=a(3835),p=a(5366),f=a(3300),Z=a(5965),g=a(3070),h=a(3841),y=a(9550),A=a(3490),q=a(4369),T=a(7064);function x(t,e){if(1&t&&(p.TgZ(0,"mat-option",12),p._uU(1),p.qZA()),2&t){const t=e.$implicit;p.Q6J("value",t.id),p.xp6(1),p.AsE(" ",t.firstName," ",t.lastName," ")}}let v=(()=>{class t{constructor(t,e,a,o,i){this.formBuilder=t,this.datePipe=e,this.employeeService=a,this.dialogRef=o,this.data=i,this.employees=[],this.local_data=Object.assign({},i),this.action=this.local_data.action,this.currentDate=m().startOf("month").format("YYYY-MM-DD")}ngOnInit(){this.getEmployees(),this.initForm()}initForm(){this.form=this.formBuilder.group({employeeId:new c.NI("",{validators:[c.kI.required]}),dailyWage:new c.NI("",{validators:[c.kI.required]}),startFrom:new c.NI(this.currentDate,{validators:[c.kI.required]})})}getEmployees(){this.subEmployee$=this.employeeService.employee$.pipe((0,d.h)(t=>void 0!==t)).subscribe(t=>{this.employees=t.employee})}doAction(){const{employeeId:t,dailyWage:e,startFrom:a}=this.form.value,o={employeeId:t,dailyWage:e,startFrom:m(a).startOf("month").format("YYYY-MM-DD HH:mm:ss")};this.form.invalids||this.dialogRef.close({event:this.action,data:o})}closeDialog(){this.dialogRef.close({event:"Cancel"})}}return t.\u0275fac=function(e){return new(e||t)(p.Y36(c.qu),p.Y36(o.uU),p.Y36(f.M),p.Y36(s.so),p.Y36(s.WI,8))},t.\u0275cmp=p.Xpm({type:t,selectors:[["app-daily-wage"]],decls:23,vars:6,consts:[["mat-dialog-title","",1,"font-medium"],[1,"pb-3","mat-typography",2,"width","500px"],[3,"formGroup"],["fxLayout","row wrap",1,"align-items-center"],["fxFlex","100","fxFlex.gt-md","33.3"],[1,"m-r-15","m-l-15"],["name","employeeId","formControlName","employeeId","placeholder","Employee","id","employeeId",3,"value","valueChange"],[3,"value",4,"ngFor","ngForOf"],["matInput","","type","number","name","dailyWage","formControlName","dailyWage","placeholder"," Daily Wage"],["formControlName","startFrom","format","yyyy/MM/dd","placeholder","Wage start from",3,"value"],["mat-button","","mat-flat-button","","color","warn",3,"disabled","click"],["mat-button","",3,"click"],[3,"value"]],template:function(t,e){1&t&&(p.TgZ(0,"h2",0),p.TgZ(1,"strong"),p._uU(2,"add Daily Wage"),p.qZA(),p.qZA(),p.TgZ(3,"mat-dialog-content",1),p.TgZ(4,"form",2),p.TgZ(5,"div",3),p.TgZ(6,"div",4),p.TgZ(7,"div",5),p.TgZ(8,"mat-form-field"),p.TgZ(9,"mat-select",6),p.NdJ("valueChange",function(t){return e.selectedEmployee=t}),p.YNc(10,x,2,3,"mat-option",7),p.qZA(),p.qZA(),p.qZA(),p.qZA(),p.TgZ(11,"div",4),p.TgZ(12,"div",5),p.TgZ(13,"mat-form-field"),p._UZ(14,"input",8),p.qZA(),p.qZA(),p.qZA(),p.TgZ(15,"div",4),p.TgZ(16,"div",5),p._UZ(17,"ejs-datepicker",9),p.qZA(),p.qZA(),p.qZA(),p.TgZ(18,"button",10),p.NdJ("click",function(){return e.doAction()}),p._uU(19),p.qZA(),p.TgZ(20,"button",11),p.NdJ("click",function(){return e.closeDialog()}),p._uU(21,"Cancel"),p.qZA(),p.qZA(),p._UZ(22,"div"),p.qZA()),2&t&&(p.xp6(4),p.Q6J("formGroup",e.form),p.xp6(5),p.Q6J("value",e.selectedEmployee),p.xp6(1),p.Q6J("ngForOf",e.employees),p.xp6(7),p.Q6J("value",e.currentDate),p.xp6(1),p.Q6J("disabled",!e.form.valid),p.xp6(1),p.Oqu(e.action))},directives:[s.uh,s.xY,c._Y,c.JL,c.sg,Z.xw,Z.yH,g.KE,h.gD,c.JJ,c.u,o.sg,y.Nt,c.wV,c.Fj,A.Lr,q.lW,T.ey],styles:[""]}),t})();function N(t,e){if(1&t){const t=p.EpF();p.TgZ(0,"mat-dialog-content",3),p.TgZ(1,"form",4),p.TgZ(2,"div",5),p.TgZ(3,"div",6),p.TgZ(4,"div",7),p.TgZ(5,"mat-form-field"),p._UZ(6,"input",8),p.qZA(),p.qZA(),p.qZA(),p.TgZ(7,"div",6),p.TgZ(8,"div",7),p.TgZ(9,"mat-form-field"),p._UZ(10,"input",9),p.qZA(),p.qZA(),p.qZA(),p.TgZ(11,"div",6),p.TgZ(12,"div",7),p.TgZ(13,"mat-form-field"),p._UZ(14,"input",10),p.qZA(),p.qZA(),p.qZA(),p.TgZ(15,"div",6),p.TgZ(16,"div",7),p.TgZ(17,"mat-form-field"),p._UZ(18,"input",11),p.qZA(),p.qZA(),p.qZA(),p.TgZ(19,"div",6),p.TgZ(20,"div",7),p.TgZ(21,"mat-form-field"),p._UZ(22,"input",12),p.qZA(),p.qZA(),p.qZA(),p.TgZ(23,"div",6),p.TgZ(24,"div",7),p._UZ(25,"ejs-datepicker",13),p.qZA(),p.qZA(),p.qZA(),p.TgZ(26,"button",14),p.NdJ("click",function(){return p.CHM(t),p.oxw().doAction()}),p._uU(27),p.qZA(),p.TgZ(28,"button",15),p.NdJ("click",function(){return p.CHM(t),p.oxw().closeDialog()}),p._uU(29,"Cancel"),p.qZA(),p.qZA(),p.qZA()}if(2&t){const t=p.oxw();p.xp6(1),p.Q6J("formGroup",t.form),p.xp6(24),p.Q6J("value",t.currentDate),p.xp6(1),p.Q6J("disabled",!t.form.valid),p.xp6(1),p.Oqu(t.action)}}function Y(t,e){if(1&t){const t=p.EpF();p.TgZ(0,"p"),p._uU(1,"Sure to delete "),p.TgZ(2,"b"),p._uU(3),p.qZA(),p._uU(4," ?"),p.qZA(),p.TgZ(5,"div",16),p.TgZ(6,"button",17),p.NdJ("click",function(){return p.CHM(t),p.oxw().doAction()}),p._uU(7),p.qZA(),p.TgZ(8,"button",15),p.NdJ("click",function(){return p.CHM(t),p.oxw().closeDialog()}),p._uU(9,"Cancel"),p.qZA(),p.qZA()}if(2&t){const t=p.oxw();p.xp6(3),p.AsE("",t.local_data.firstName," ",t.local_data.lastName,""),p.xp6(4),p.Oqu(t.action)}}let b=(()=>{class t{constructor(t,e,a,o){this.formBuilder=t,this.datePipe=e,this.dialogRef=a,this.data=o,this.fileError="",this.local_data=Object.assign({},o),this.action=this.local_data.action,this.currentDate=m().startOf("month").format("YYYY-MM-DD")}ngOnInit(){this.initForm(),"Update"===this.local_data.action&&this.filForm()}initForm(){this.form=this.formBuilder.group({firstName:new c.NI("",{validators:[c.kI.required]}),lastName:new c.NI("",{validators:[c.kI.required]}),phone:new c.NI("",{validators:[c.kI.required]}),bankAccount:new c.NI("",{validators:[c.kI.required]}),bankBranch:new c.NI("",{validators:[c.kI.required]}),createdAt:new c.NI("",{validators:[c.kI.required]})})}filForm(){this.form.setValue({firstName:this.local_data.firstName,lastName:this.local_data.lastName,phone:this.local_data.phone,bankAccount:this.local_data.bankAccount,bankBranch:this.local_data.bankBranch,createdAt:m(this.local_data.createdAt).format("YYYY-MM-DD HH:mm:ss")})}doAction(){this.form.invalids||this.dialogRef.close({event:this.action,data:{firstName:this.form.value.firstName,lastName:this.form.value.lastName,phone:this.form.value.phone,dailyWage:this.form.value.dailyWage,bankAccount:this.form.value.bankAccount,bankBranch:this.form.value.bankBranch,createdAt:this.form.value.createdAt}})}closeDialog(){this.dialogRef.close({event:"Cancel"})}}return t.\u0275fac=function(e){return new(e||t)(p.Y36(c.qu),p.Y36(o.uU),p.Y36(s.so),p.Y36(s.WI,8))},t.\u0275cmp=p.Xpm({type:t,selectors:[["app-employee-actions"]],decls:6,vars:3,consts:[["mat-dialog-title","",1,"font-medium"],["class","pb-3","style","width: 500px;",4,"ngIf","ngIfElse"],["elseTemplate",""],[1,"pb-3",2,"width","500px"],[3,"formGroup"],["fxLayout","row wrap",1,"align-items-center"],["fxFlex","100","fxFlex.gt-md","50"],[1,"m-r-15","m-l-15"],["matInput","","type","text","name","firstName","formControlName","firstName","placeholder"," first name  (required) *"],["matInput","","type","text","name","lastName","formControlName","lastName","placeholder"," last name  (required) *"],["matInput","","type","text","name","phone","formControlName","phone","placeholder"," phone  (required) *"],["matInput","","type","number","name","bankAccount","formControlName","bankAccount","placeholder"," bank Account number  (required) *"],["matInput","","type","text","name","bankBranch","formControlName","bankBranch","placeholder"," Bank Branch  (required) *"],["formControlName","createdAt","format","yyyy/MM/dd","placeholder","start at",3,"value"],["mat-button","","mat-flat-button","","color","warn",3,"disabled","click"],["mat-button","",3,"click"],["mat-dialog-actions","","align","end",1,"pt-3"],["mat-button","","mat-flat-button","","color","warn",3,"click"]],template:function(t,e){if(1&t&&(p.TgZ(0,"h2",0),p.TgZ(1,"strong"),p._uU(2),p.qZA(),p.qZA(),p.YNc(3,N,30,4,"mat-dialog-content",1),p.YNc(4,Y,10,3,"ng-template",null,2,p.W1O)),2&t){const t=p.MAs(5);p.xp6(2),p.Oqu(e.action),p.xp6(1),p.Q6J("ngIf","Delete"!=e.action)("ngIfElse",t)}},directives:[s.uh,o.O5,s.xY,c._Y,c.JL,c.sg,Z.xw,Z.yH,g.KE,y.Nt,c.Fj,c.JJ,c.u,c.wV,A.Lr,q.lW,s.H8],styles:[""]}),t})();var D=a(2797),_=a(580);function w(t,e){1&t&&(p.TgZ(0,"th",23),p._uU(1,"#"),p.qZA())}function k(t,e){if(1&t&&(p.TgZ(0,"td",24),p._uU(1),p.qZA()),2&t){const t=e.index;p.xp6(1),p.hij(" ",t+1," ")}}function U(t,e){1&t&&(p.TgZ(0,"th",23),p._uU(1,"Full Name"),p.qZA())}const C=function(t){return["/employees",t]};function M(t,e){if(1&t&&(p.TgZ(0,"td",24),p.TgZ(1,"div",25),p.TgZ(2,"div",26),p.TgZ(3,"p",27),p._uU(4),p.qZA(),p.TgZ(5,"small"),p._uU(6),p.qZA(),p.qZA(),p.qZA(),p.qZA()),2&t){const t=e.$implicit;p.xp6(1),p.Q6J("routerLink",p.VKq(3,C,t.id)),p.xp6(3),p.Oqu(t.firstName),p.xp6(2),p.Oqu(t.lastName)}}function P(t,e){1&t&&(p.TgZ(0,"th",23),p._uU(1,"Last Name"),p.qZA())}function I(t,e){if(1&t&&(p.TgZ(0,"td",24),p._uU(1),p.qZA()),2&t){const t=e.$implicit;p.xp6(1),p.Oqu(t.lastName)}}function F(t,e){1&t&&(p.TgZ(0,"th",23),p._uU(1,"phone"),p.qZA())}function S(t,e){if(1&t&&(p.TgZ(0,"td",24),p._uU(1),p.qZA()),2&t){const t=e.$implicit;p.xp6(1),p.Oqu(t.phone)}}function B(t,e){1&t&&(p.TgZ(0,"th",23),p._uU(1,"daily Wage"),p.qZA())}function J(t,e){if(1&t&&(p.TgZ(0,"td",24),p.TgZ(1,"p"),p._uU(2),p.ALo(3,"currency"),p.qZA(),p.TgZ(4,"small"),p._uU(5,"wage From "),p.qZA(),p.TgZ(6,"small"),p._uU(7),p.ALo(8,"momentPipe"),p.qZA(),p.qZA()),2&t){const t=e.$implicit;p.xp6(2),p.Oqu(p.Dn7(3,2,t.dailyWage,"ILS","symbol")),p.xp6(5),p.Oqu(p.xi3(8,6,t.startFromDate,"YYYY-MM"))}}function Q(t,e){1&t&&(p.TgZ(0,"th",23),p._uU(1,"bankAccount"),p.qZA())}function O(t,e){if(1&t&&(p.TgZ(0,"td",24),p._uU(1),p.qZA()),2&t){const t=e.$implicit;p.xp6(1),p.hij(" ",t.bankAccount," ")}}function H(t,e){1&t&&(p.TgZ(0,"th",23),p._uU(1,"bankBranch"),p.qZA())}function L(t,e){if(1&t&&(p.TgZ(0,"td",24),p._uU(1),p.qZA()),2&t){const t=e.$implicit;p.xp6(1),p.hij(" ",t.bankBranch," ")}}function W(t,e){1&t&&(p.TgZ(0,"th",23),p._uU(1,"Action"),p.qZA())}function E(t,e){if(1&t){const t=p.EpF();p.TgZ(0,"td",28),p.TgZ(1,"a",29),p.NdJ("click",function(){const e=p.CHM(t).$implicit;return p.oxw().openDialog("Update",e)}),p._UZ(2,"i",30),p.qZA(),p.TgZ(3,"a",29),p.NdJ("click",function(){const e=p.CHM(t).$implicit;return p.oxw().openDialog("Delete",e)}),p._UZ(4,"i",31),p.qZA(),p.qZA()}}function j(t,e){1&t&&p._UZ(0,"tr",32)}function $(t,e){1&t&&p._UZ(0,"tr",33)}function R(t,e){if(1&t){const t=p.EpF();p.TgZ(0,"mat-paginator",34),p.NdJ("page",function(e){return p.CHM(t),p.oxw().onChangedPage(e)}),p.qZA()}if(2&t){const t=p.oxw();p.Q6J("length",t.totalEmployees)("pageSize",t.employeesPerPage)("pageSizeOptions",t.pageSizeOptions)}}let z=(()=>{class t{constructor(t,e){this._employeeService=t,this.dialog=e,this.employee=[],this.employeesPerPage=25,this.currentPage=1,this.pageSizeOptions=[25,50],this.totalEmployees=0,this.projectTitle="",this.paginator=Object.create(null),this.sort=Object.create(null),this.displayedColumns=["id","firstName","phone","wagePerDay","bankAccount","bankBranch","action"],this.dataSource=new r.by(this.employee)}ngOnInit(){this._employeeService.getAllemployee(this.employeesPerPage,this.currentPage),this.subEmployee$=this._employeeService.employee$.subscribe(t=>{this.employee=t.employee,this.totalEmployees=t.totalemployee,this.dataSource=new r.by(this.employee)})}onChangedPage(t){this.currentPage=t.pageIndex+1,this.employeesPerPage=t.pageSize,this._employeeService.getAllemployee(this.employeesPerPage,this.currentPage),this._employeeService.employee$.subscribe(t=>{this.employee=t.employee,this.totalEmployees=t.totalemployee,this.dataSource=new r.by(this.employee)})}applyFilter(t){this._employeeService.getAllemployee(this.employeesPerPage,this.currentPage,t)}openDialog(t,e){e.action=t,this.dialog.open(b,{data:e,disableClose:!0}).afterClosed().subscribe(t=>{void 0!==t&&("Add"===t.event?this._employeeService.addEmployee(t.data).subscribe(t=>{t&&this._employeeService.getAllemployee(this.employeesPerPage,this.currentPage)}):"Update"===t.event?this._employeeService.updateEmployee(t.data,e.id).subscribe(t=>{t&&this._employeeService.getAllemployee(this.employeesPerPage,this.currentPage)}):"Delete"===t.event&&this._employeeService.deleteEmployee(e.id).subscribe(t=>{t&&this._employeeService.getAllemployee(this.employeesPerPage,this.currentPage)}))})}openWageDialog(t,e){e.action=t,this.dialog.open(v,{data:e,disableClose:!0}).afterClosed().subscribe(t=>{void 0!==t&&"addWage"===t.event&&this._employeeService.addDailyWage(t.data).subscribe(t=>{t&&this._employeeService.getAllemployee(this.employeesPerPage,this.currentPage)})})}ngOnDestroy(){this.subEmployee$&&this.subEmployee$.unsubscribe()}}return t.\u0275fac=function(e){return new(e||t)(p.Y36(f.M),p.Y36(s.uw))},t.\u0275cmp=p.Xpm({type:t,selectors:[["app-employees"]],viewQuery:function(t,e){if(1&t&&(p.Gf(n.NW,7),p.Gf(l.YE,7)),2&t){let t;p.iGM(t=p.CRH())&&(e.paginator=t.first),p.iGM(t=p.CRH())&&(e.sort=t.first)}},decls:47,vars:4,consts:[["fxLayout","row wrap"],["fxFlex","100"],["fxLayout","row wrap",1,"align-items-center"],["fxFlex.gt-md","33.3","fxFlex.gt-lg","33.3","fxFlex","100"],["matInput","","placeholder","Search Employee",3,"keyup"],["fxFlex.gt-md","33.3",1,"text-right"],["mat-raised-button","","color","primary",3,"click"],[1,"table-responsive"],["mat-table","",1,"table","employee-list","no-wrap",3,"dataSource"],["matColumnDef","id","sticky",""],["mat-header-cell","",4,"matHeaderCellDef"],["mat-cell","",4,"matCellDef"],["matColumnDef","firstName","sticky",""],["matColumnDef","lastName"],["matColumnDef","phone"],["matColumnDef","wagePerDay"],["matColumnDef","bankAccount"],["matColumnDef","bankBranch"],["matColumnDef","action"],["mat-cell","","class","action-link",4,"matCellDef"],["mat-header-row","",4,"matHeaderRowDef"],["mat-row","",4,"matRowDef","matRowDefColumns"],["showFirstLastButtons","",3,"length","pageSize","pageSizeOptions","page",4,"ngIf"],["mat-header-cell",""],["mat-cell",""],[1,"d-flex",3,"routerLink"],[1,"m-l-15"],[1,"font-bold","m-b-0","m-t-0"],["mat-cell","",1,"action-link"],[1,"m-r-10","cursor-pointer",3,"click"],[1,"fa","fa-pencil"],[1,"fa","fa-trash","text-danger"],["mat-header-row",""],["mat-row",""],["showFirstLastButtons","",3,"length","pageSize","pageSizeOptions","page"]],template:function(t,e){1&t&&(p.TgZ(0,"div",0),p.TgZ(1,"div",1),p.TgZ(2,"mat-card"),p.TgZ(3,"mat-card-content"),p.TgZ(4,"div",2),p.TgZ(5,"div",3),p.TgZ(6,"mat-form-field"),p.TgZ(7,"input",4),p.NdJ("keyup",function(t){return e.applyFilter(t.target.value)}),p.qZA(),p.qZA(),p.qZA(),p.TgZ(8,"div",5),p.TgZ(9,"button",6),p.NdJ("click",function(){return e.openDialog("Add",{})}),p._uU(10," Add Employee "),p.qZA(),p.qZA(),p.TgZ(11,"div",5),p.TgZ(12,"button",6),p.NdJ("click",function(){return e.openWageDialog("addWage",{})}),p._uU(13," Daily Wage "),p.qZA(),p.qZA(),p.qZA(),p.qZA(),p.qZA(),p.qZA(),p.qZA(),p.TgZ(14,"div",0),p.TgZ(15,"div",1),p.TgZ(16,"mat-card"),p.TgZ(17,"mat-card-content"),p.TgZ(18,"div",7),p.TgZ(19,"table",8),p.ynx(20,9),p.YNc(21,w,2,0,"th",10),p.YNc(22,k,2,1,"td",11),p.BQk(),p.ynx(23,12),p.YNc(24,U,2,0,"th",10),p.YNc(25,M,7,5,"td",11),p.BQk(),p.ynx(26,13),p.YNc(27,P,2,0,"th",10),p.YNc(28,I,2,1,"td",11),p.BQk(),p.ynx(29,14),p.YNc(30,F,2,0,"th",10),p.YNc(31,S,2,1,"td",11),p.BQk(),p.ynx(32,15),p.YNc(33,B,2,0,"th",10),p.YNc(34,J,9,9,"td",11),p.BQk(),p.ynx(35,16),p.YNc(36,Q,2,0,"th",10),p.YNc(37,O,2,1,"td",11),p.BQk(),p.ynx(38,17),p.YNc(39,H,2,0,"th",10),p.YNc(40,L,2,1,"td",11),p.BQk(),p.ynx(41,18),p.YNc(42,W,2,0,"th",10),p.YNc(43,E,5,0,"td",19),p.BQk(),p.YNc(44,j,1,0,"tr",20),p.YNc(45,$,1,0,"tr",21),p.qZA(),p.YNc(46,R,1,3,"mat-paginator",22),p.qZA(),p.qZA(),p.qZA(),p.qZA(),p.qZA()),2&t&&(p.xp6(19),p.Q6J("dataSource",e.dataSource),p.xp6(25),p.Q6J("matHeaderRowDef",e.displayedColumns),p.xp6(1),p.Q6J("matRowDefColumns",e.displayedColumns),p.xp6(1),p.Q6J("ngIf",e.employee.length>0))},directives:[Z.xw,Z.yH,D.a8,D.dn,g.KE,y.Nt,q.lW,r.BZ,r.w1,r.fO,r.Dz,r.as,r.nj,o.O5,r.ge,r.ev,i.rH,r.XQ,r.Gk,n.NW],pipes:[o.H9,_.d],styles:[""]}),t})();var G=a(2251),X=a(7307),K=a(552);function V(t,e){1&t&&(p.TgZ(0,"th",33),p._uU(1,"Date"),p.qZA())}function tt(t,e){if(1&t&&(p.TgZ(0,"td",34),p._uU(1),p.ALo(2,"momentPipe"),p.qZA()),2&t){const t=e.$implicit;p.xp6(1),p.hij(" ",p.xi3(2,1,t.date,"YYYY-MM-DD")," ")}}function et(t,e){1&t&&(p.TgZ(0,"td",35),p._uU(1,"Total"),p.qZA())}function at(t,e){1&t&&(p.TgZ(0,"th",33),p._uU(1,"day"),p.qZA())}function ot(t,e){if(1&t&&(p.TgZ(0,"td",34),p._uU(1),p.ALo(2,"momentPipe"),p.qZA()),2&t){const t=e.$implicit;p.xp6(1),p.hij(" ",p.xi3(2,1,t.date,"dddd")," ")}}function it(t,e){1&t&&p._UZ(0,"td",35)}function nt(t,e){1&t&&(p.TgZ(0,"th",33),p._uU(1,"full Name"),p.qZA())}function lt(t,e){if(1&t&&(p.TgZ(0,"td",34),p.TgZ(1,"div",36),p.TgZ(2,"div",37),p.TgZ(3,"p",38),p._uU(4),p.qZA(),p.TgZ(5,"small"),p._uU(6),p.qZA(),p.qZA(),p.qZA(),p.qZA()),2&t){const t=e.$implicit;p.xp6(4),p.hij(" ",null==t?null:t.firstName," "),p.xp6(2),p.Oqu(t.lastName)}}function rt(t,e){1&t&&p._UZ(0,"td",35)}function ct(t,e){1&t&&(p.TgZ(0,"th",33),p._uU(1,"start At"),p.qZA())}function st(t,e){if(1&t&&(p.TgZ(0,"td",34),p._uU(1),p.ALo(2,"momentPipe"),p.qZA()),2&t){const t=e.$implicit;p.xp6(1),p.hij(" ",p.xi3(2,1,null==t?null:t.startAt,"HH:mm")," ")}}function mt(t,e){1&t&&p._UZ(0,"td",35)}function ut(t,e){1&t&&(p.TgZ(0,"th",33),p._uU(1,"endAt"),p.qZA())}function dt(t,e){if(1&t&&(p.TgZ(0,"td",34),p._uU(1),p.ALo(2,"momentPipe"),p.qZA()),2&t){const t=e.$implicit;p.xp6(1),p.hij(" ",p.xi3(2,1,null==t?null:t.endAt,"HH:mm")," ")}}function pt(t,e){1&t&&p._UZ(0,"td",35)}function ft(t,e){1&t&&(p.TgZ(0,"th",33),p._uU(1,"project Name"),p.qZA())}function Zt(t,e){if(1&t&&(p.TgZ(0,"td",34),p._uU(1),p.ALo(2,"ProjectPipe"),p.qZA()),2&t){const t=e.$implicit;p.xp6(1),p.hij(" ",p.lcZ(2,1,null==t?null:t.dayWorkedPlace)," ")}}function gt(t,e){1&t&&p._UZ(0,"td",35)}function ht(t,e){1&t&&(p.TgZ(0,"th",33),p._uU(1,"duration"),p.qZA())}function yt(t,e){if(1&t&&(p.TgZ(0,"td",34),p._uU(1),p.qZA()),2&t){const t=e.$implicit;p.xp6(1),p.hij(" ",null==t?null:t.duration," ")}}function At(t,e){if(1&t&&(p.TgZ(0,"td",35),p._uU(1),p.qZA()),2&t){const t=p.oxw();p.xp6(1),p.hij(" ",t.getTotalDuration()," ")}}function qt(t,e){1&t&&(p.TgZ(0,"th",33),p._uU(1,"daily wage"),p.qZA())}function Tt(t,e){1&t&&(p.TgZ(0,"small"),p._uU(1,"wage From "),p.qZA())}function xt(t,e){if(1&t&&(p.TgZ(0,"td",34),p.TgZ(1,"div",36),p.TgZ(2,"div",37),p.TgZ(3,"p",38),p._uU(4),p.ALo(5,"currency"),p.qZA(),p.YNc(6,Tt,2,0,"small",39),p.TgZ(7,"small"),p._uU(8),p.ALo(9,"momentPipe"),p.qZA(),p.qZA(),p.qZA(),p.qZA()),2&t){const t=e.$implicit;p.xp6(4),p.hij(" ",p.Dn7(5,3,null==t?null:t.dailyWage,"ILS","symbol")," "),p.xp6(2),p.Q6J("ngIf",t.wageForm),p.xp6(2),p.Oqu(p.xi3(9,7,null==t?null:t.wageFrom,"YYYY-MM"))}}function vt(t,e){1&t&&p._UZ(0,"td",35)}function Nt(t,e){1&t&&(p.TgZ(0,"th",33),p._uU(1,"notes"),p.qZA())}function Yt(t,e){if(1&t&&(p.TgZ(0,"td",34),p._uU(1),p.qZA()),2&t){const t=e.$implicit;p.xp6(1),p.Oqu(null==t?null:t.notes)}}function bt(t,e){1&t&&p._UZ(0,"td",35)}function Dt(t,e){1&t&&(p.TgZ(0,"th",33),p._uU(1,"Pay Per Day"),p.qZA())}function _t(t,e){if(1&t&&(p.TgZ(0,"td",34),p.TgZ(1,"div",36),p.TgZ(2,"div",37),p.TgZ(3,"p",38),p._uU(4),p.ALo(5,"currency"),p.qZA(),p.qZA(),p.qZA(),p.qZA()),2&t){const t=e.$implicit;p.xp6(4),p.hij(" ",p.Dn7(5,1,null==t?null:t.payPerDay,"ILS","symbol")," ")}}function wt(t,e){if(1&t&&(p.TgZ(0,"td",35),p._uU(1),p.ALo(2,"currency"),p.qZA()),2&t){const t=p.oxw();p.xp6(1),p.hij(" ",p.Dn7(2,1,t.getTotalOfPayPerDay(),"ILS","symbol")," ")}}function kt(t,e){1&t&&(p.TgZ(0,"th",33),p._uU(1,"Action"),p.qZA())}function Ut(t,e){if(1&t){const t=p.EpF();p.TgZ(0,"td",40),p.TgZ(1,"a",41),p.NdJ("click",function(){const e=p.CHM(t).$implicit;return p.oxw().openDialog("Update",e)}),p._UZ(2,"i",42),p.qZA(),p.TgZ(3,"a",41),p.NdJ("click",function(){const e=p.CHM(t).$implicit;return p.oxw().openDialog("Delete",e)}),p._UZ(4,"i",43),p.qZA(),p.qZA()}}function Ct(t,e){1&t&&p._UZ(0,"tr",44)}function Mt(t,e){1&t&&p._UZ(0,"tr",45)}function Pt(t,e){1&t&&p._UZ(0,"tr",46)}let It=(()=>{class t{constructor(t,e){this.recordsService=t,this.router=e,this.employeeRecod=[],this.monthDays=[],this.displayedColumns=["date","day","firstName","projectName","startAt","endAt","duration","dailyWage","payPerDay","notes"],this.getDaysOfMonth=function(t,e){for(var a=u()(t+"-"+e,"YYYY-MM"),o=a.daysInMonth(),i=[];o;){var n=u()(a,"YYYY-MM-DD").date(o);i.push({date:n.format("YYYY-MM-DD"),dailyWage:"",dayWorkedPlace:null,duration:"",employeeId:"",endAt:null,firstName:"",id:"",lastName:"",notes:"",payPerDay:"",startAt:null,wageFrom:null}),o--}return i},this.dataSource=new r.by(this.employeeRecod),this.currentMonth=u()().format("YYYY-MM-DD HH:mm:ss")}ngOnInit(){this.router.params.subscribe(t=>{this.employeeId=t.id,this.getRecordsByDate(this.currentMonth)}),this.recordsService.records$.subscribe(t=>{this.records=t.records,this.filterDates()})}getSelectedDate(t){this.currentMonth=u()(t.value).format("YYYY-MM-DD HH:mm:ss")}submit(){this.getRecordsByDate(this.currentMonth),this.filterDates()}filterDates(){this.monthDays=this.getDaysOfMonth(u()(this.currentMonth).year(),u()(this.currentMonth).month()+1),this.monthDays.map((t,e)=>{this.records.find(a=>{u()(a.date).isSame(t.date)&&this.monthDays.splice(e,1,a)})}),this.dataSource=new r.by(this.monthDays)}getTotalDuration(){return this.monthDays.map(t=>t.duration).reduce((t,e)=>t+Number(e),0)}getTotalOfPayPerDay(){return this.monthDays.map(t=>t.payPerDay).reduce((t,e)=>t+Number(e),0)}getRecordsByDate(t){this.recordsService.getAllRecords(40,1,t,this.employeeId)}}return t.\u0275fac=function(e){return new(e||t)(p.Y36(G.$),p.Y36(i.gz))},t.\u0275cmp=p.Xpm({type:t,selectors:[["app-employee-data-tabel"]],decls:69,vars:5,consts:[["fxLayout","row wrap",1,"course-app"],["fxFlex.gt-md","33.3","fxFlex.gt-lg","33.3","fxFlex","100"],[2,"height","87%"],[1,"course-header",2,"background-color","#fc4b6c"],[1,"course-name"],[1,"course-duration"],[1,"m-r-10"],[1,"text-center"],[1,"m-b-5"],["start","Year","format","MM/yyyy","depth","Year","placeholder","Enter date",3,"value","change"],["mat-button","",3,"click"],["fxLayout","row wrap"],["fxFlex","100"],[1,"table-responsive"],["mat-table","",1,"table","employee-list","no-wrap",3,"dataSource"],["matColumnDef","date"],["mat-header-cell","",4,"matHeaderCellDef"],["mat-cell","",4,"matCellDef"],["mat-footer-cell","",4,"matFooterCellDef"],["matColumnDef","day"],["matColumnDef","firstName"],["matColumnDef","startAt"],["matColumnDef","endAt"],["matColumnDef","projectName"],["matColumnDef","duration"],["matColumnDef","dailyWage"],["matColumnDef","notes"],["matColumnDef","payPerDay"],["matColumnDef","action"],["mat-cell","","class","action-link",4,"matCellDef"],["mat-header-row","",4,"matHeaderRowDef"],["color","#26c6da","size","24px","mat-row","",3,"BoldLine",4,"matRowDef","matRowDefColumns"],["mat-footer-row","",4,"matFooterRowDef"],["mat-header-cell",""],["mat-cell",""],["mat-footer-cell",""],[1,"d-flex"],[1,"m-l-15"],[1,"font-bold","m-b-0","m-t-0"],[4,"ngIf"],["mat-cell","",1,"action-link"],[1,"m-r-10","cursor-pointer",3,"click"],[1,"fa","fa-pencil"],[1,"fa","fa-trash","text-danger"],["mat-header-row",""],["color","#26c6da","size","24px","mat-row","",3,"BoldLine"],["mat-footer-row",""]],template:function(t,e){1&t&&(p.TgZ(0,"div",0),p.TgZ(1,"div",1),p.TgZ(2,"mat-card",2),p.TgZ(3,"mat-card-header",3),p.TgZ(4,"mat-card-title"),p.TgZ(5,"span",4),p._uU(6,"Filter by Month"),p.qZA(),p.TgZ(7,"span",5),p.TgZ(8,"mat-icon",6),p._uU(9,"access_time"),p.qZA(),p.qZA(),p.qZA(),p.qZA(),p.TgZ(10,"mat-card-content",7),p.TgZ(11,"p",8),p._uU(12,"Please Choose Month"),p.qZA(),p.TgZ(13,"ejs-datepicker",9),p.NdJ("change",function(t){return e.getSelectedDate(t)}),p.qZA(),p.qZA(),p.TgZ(14,"mat-card-actions",7),p.TgZ(15,"button",10),p.NdJ("click",function(){return e.submit()}),p._uU(16,"Get Records"),p.qZA(),p.qZA(),p.qZA(),p.qZA(),p.qZA(),p.TgZ(17,"div",11),p.TgZ(18,"div",12),p.TgZ(19,"mat-card"),p.TgZ(20,"mat-card-content"),p.TgZ(21,"div",13),p.TgZ(22,"table",14),p.ynx(23,15),p.YNc(24,V,2,0,"th",16),p.YNc(25,tt,3,4,"td",17),p.YNc(26,et,2,0,"td",18),p.BQk(),p.ynx(27,19),p.YNc(28,at,2,0,"th",16),p.YNc(29,ot,3,4,"td",17),p.YNc(30,it,1,0,"td",18),p.BQk(),p.ynx(31,20),p.YNc(32,nt,2,0,"th",16),p.YNc(33,lt,7,2,"td",17),p.YNc(34,rt,1,0,"td",18),p.BQk(),p.ynx(35,21),p.YNc(36,ct,2,0,"th",16),p.YNc(37,st,3,4,"td",17),p.YNc(38,mt,1,0,"td",18),p.BQk(),p.ynx(39,22),p.YNc(40,ut,2,0,"th",16),p.YNc(41,dt,3,4,"td",17),p.YNc(42,pt,1,0,"td",18),p.BQk(),p.ynx(43,23),p.YNc(44,ft,2,0,"th",16),p.YNc(45,Zt,3,3,"td",17),p.YNc(46,gt,1,0,"td",18),p.BQk(),p.ynx(47,24),p.YNc(48,ht,2,0,"th",16),p.YNc(49,yt,2,1,"td",17),p.YNc(50,At,2,1,"td",18),p.BQk(),p.ynx(51,25),p.YNc(52,qt,2,0,"th",16),p.YNc(53,xt,10,10,"td",17),p.YNc(54,vt,1,0,"td",18),p.BQk(),p.ynx(55,26),p.YNc(56,Nt,2,0,"th",16),p.YNc(57,Yt,2,1,"td",17),p.YNc(58,bt,1,0,"td",18),p.BQk(),p.ynx(59,27),p.YNc(60,Dt,2,0,"th",16),p.YNc(61,_t,6,5,"td",17),p.YNc(62,wt,3,5,"td",18),p.BQk(),p.ynx(63,28),p.YNc(64,kt,2,0,"th",16),p.YNc(65,Ut,5,0,"td",29),p.BQk(),p.YNc(66,Ct,1,0,"tr",30),p.YNc(67,Mt,1,0,"tr",31),p.YNc(68,Pt,1,0,"tr",32),p.qZA(),p.qZA(),p.qZA(),p.qZA(),p.qZA(),p.qZA()),2&t&&(p.xp6(13),p.Q6J("value",e.currentMonth),p.xp6(9),p.Q6J("dataSource",e.dataSource),p.xp6(44),p.Q6J("matHeaderRowDef",e.displayedColumns),p.xp6(1),p.Q6J("matRowDefColumns",e.displayedColumns),p.xp6(1),p.Q6J("matFooterRowDef",e.displayedColumns))},directives:[Z.xw,Z.yH,D.a8,D.dk,D.n5,X.Hw,D.dn,A.Lr,D.hq,q.lW,r.BZ,r.w1,r.fO,r.Dz,r.mD,r.as,r.nj,r.Ke,r.ge,r.ev,r.yh,o.O5,r.XQ,r.Gk,r.Q2],pipes:[_.d,K.l,o.H9],styles:[""]}),t})();const Ft=[{path:"",component:z,data:{title:"\u05e2\u05d5\u05d1\u05d3\u05d9\u05dd",urls:[{title:"\u05dc\u05d5\u05d7 \u05d4\u05d1\u05e7\u05e8\u05d4",url:"/dashboard"},{title:"\u05e2\u05d5\u05d1\u05d3\u05d9\u05dd"}]}},{path:":id",component:(()=>{class t{constructor(){}ngOnInit(){}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275cmp=p.Xpm({type:t,selectors:[["app-view-employee"]],decls:7,vars:0,consts:[["fxLayout","row","fxLayoutWrap","wrap"],["fxFlex.gt-sm","100","fxFlex.gt-xs","100","fxFlex","100"],["fxLayout","row","fxLayoutWrap","wrap","fxFlex","100"],["fxFlex","100"]],template:function(t,e){1&t&&(p.TgZ(0,"div",0),p.TgZ(1,"div",1),p.TgZ(2,"mat-card"),p.TgZ(3,"mat-card-content"),p.TgZ(4,"div",2),p.TgZ(5,"div",3),p._UZ(6,"app-employee-data-tabel"),p.qZA(),p.qZA(),p.qZA(),p.qZA(),p.qZA(),p.qZA())},directives:[Z.xw,Z.yH,D.a8,D.dn,It],styles:[""]}),t})(),data:{title:"\u05e2\u05d5\u05d1\u05d3\u05d9\u05dd",urls:[{title:"\u05dc\u05d5\u05d7 \u05d4\u05d1\u05e7\u05e8\u05d4",url:"/dashboard"},{title:"\u05e2\u05d5\u05d1\u05d3\u05d9\u05dd"}]}}];let St=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=p.oAB({type:t}),t.\u0275inj=p.cJS({imports:[[i.Bz.forChild(Ft)],i.Bz]}),t})();var Bt=a(5174);let Jt=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=p.oAB({type:t}),t.\u0275inj=p.cJS({providers:[o.uU,f.M],imports:[[o.ez,St,Bt.m,A.I$]]}),t})()}}]);